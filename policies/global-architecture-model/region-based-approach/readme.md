# Global Architecture Model - Regional Model

## Introduction

Today, Azure AD B2C acts as a globally distributed service, however the directory store is located in one of many regional data centres to help accommodate data residency and performance requirements.

Currently, customers deploy their Azure AD B2C tenant in the closest region to their user base. But for customers who deploy Apps and APIs across the globe to support a globally operating business model, this poses a problem.

These customers must deploy multiple Azure AD B2C tenants, to meet their data residency requirements, and prevent performance issues. By placing the tenant in the same region where their customers live, the operations into the directory are optimized for latency. However, by doing so, it creates excessive overheads to configure, manage and protect these sensitive tenant resources.

Customers are looking for designs with Azure AD B2C, such that:

1. Their Apps and APIs can integrate with a single endpoint. This makes it easy for customers to deliver processes, frameworks, or SDKs to their developer teams with little configuration required.
1. They can maintain their customers profiles whilst customers travel around the world. This creates more value in the analytics generated by user interactions within their services.
1. Their customers can maintain the same set of credentials, no matter from where in the world they access the applications.
1. Customer user data is still stored in regional data stores.
1. The performance and latency are comparable to Azure AD B2C tenants created per region.

## Regional tenant orchestration

In this model, each application routes the user to the most appropriate Azure AD B2C tenant. The Azure AD B2C tenant then performs cross tenant calls if required to process logins when the user is registered in a different region. A lookup table is used to track where users originally signed up.

## Capabilities

1. Supports Federated account sign up and sign in
1. Supports authenticating local accounts for users signing in from outside their registered region
    a. Supported by cross tenant API based authentication (ROPC)
1. Supports authenticating federated accounts for users signing in from outside their registered region
    a. Supported by cross tenant API based look up
1. Prevents sign up from multiple different regions